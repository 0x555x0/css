(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83554],{83554:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return O}});var n=i(24246),o=i(90898),t=i(73406),a=i(87531),d=i(45633),r=i(569),c=i(65218),s=i.n(c),u=i(86677),_=i(23615),p=i.n(_),v=i(27378),m=i(82022),b=i(17013),g=i.n(b);let h=s()(()=>Promise.all([i.e(114),i.e(53051)]).then(i.bind(i,53051)),{loadableGenerated:{webpack:()=>[53051]}}),y=s()(()=>Promise.all([i.e(75331),i.e(23067)]).then(i.bind(i,23067)),{loadableGenerated:{webpack:()=>[23067]}}),f=s()(()=>Promise.all([i.e(32734),i.e(97464)]).then(i.bind(i,97464)),{loadableGenerated:{webpack:()=>[97464]}}),k=s()(()=>Promise.all([i.e(82063),i.e(49977),i.e(96054),i.e(11454)]).then(i.bind(i,11454)),{loadableGenerated:{webpack:()=>[11454]}}),x=s()(()=>Promise.all([i.e(52430),i.e(49977),i.e(24639)]).then(i.bind(i,24639)),{loadableGenerated:{webpack:()=>[24639]}}),w=s()(()=>Promise.all([i.e(35828),i.e(53159)]).then(i.bind(i,53159)),{loadableGenerated:{webpack:()=>[53159]}}),j=s()(()=>Promise.all([i.e(34723),i.e(55688)]).then(i.bind(i,55688)),{loadableGenerated:{webpack:()=>[55688]}}),N=s()(()=>Promise.all([i.e(29698),i.e(49977),i.e(34823),i.e(85084)]).then(i.bind(i,85084)),{loadableGenerated:{webpack:()=>[85084]},ssr:!1}),P=s()(()=>Promise.all([i.e(86941),i.e(49977),i.e(61403),i.e(43421)]).then(i.bind(i,43421)),{loadableGenerated:{webpack:()=>[43421]},ssr:!1}),G=s()(()=>Promise.all([i.e(70009),i.e(49977),i.e(56036)]).then(i.bind(i,56036)),{loadableGenerated:{webpack:()=>[56036]},ssr:!1}),A=s()(()=>Promise.all([i.e(21413),i.e(82425),i.e(19354)]).then(i.bind(i,19354)),{loadableGenerated:{webpack:()=>[19354]},ssr:!1}),C=s()(()=>Promise.all([i.e(27255),i.e(21413),i.e(82425),i.e(49977),i.e(34823),i.e(95245),i.e(2790),i.e(15821)]).then(i.bind(i,73365)),{loadableGenerated:{webpack:()=>[73365]},ssr:!1}),I=s()(()=>Promise.all([i.e(62604),i.e(49977),i.e(61403),i.e(86799)]).then(i.bind(i,86799)),{loadableGenerated:{webpack:()=>[86799]},ssr:!1}),S=s()(()=>Promise.all([i.e(51324),i.e(49810)]).then(i.bind(i,49810)),{loadableGenerated:{webpack:()=>[49810]},ssr:!1}),D=s()(()=>Promise.all([i.e(21413),i.e(49977),i.e(95245),i.e(2790),i.e(77359)]).then(i.bind(i,2790)),{loadableGenerated:{webpack:()=>[2790]},ssr:!1});function O(e){var l,i,c,s,_;let{productDetail:p}=e,b=(0,u.useRouter)(),{i18n:O,t:E}=(0,m.$G)(),{trackEcommerce:M}=(0,d.r)(),[V,q]=(0,v.useState)(),[F,L]=(0,v.useState)(),[R,T]=(0,v.useState)(!1),[Z,Q]=(0,v.useState)(!1),[Y,B]=(0,v.useState)(!(null==p?void 0:p.variants_data)),U=!(null==p?void 0:p.not_for_sale),W=!!(null==p?void 0:p.variants_data)&&!!(null==p?void 0:p.childs),J=U&&(null==p?void 0:p.extra_services),{cartState:{cart:K}}=(0,v.useContext)(o.A9),$=null==K?void 0:null===(l=K.cart_items)||void 0===l?void 0:l.find(e=>e.product_id===(null==p?void 0:p.product_id)),z=(null==p?void 0:p.sell_in_kg)&&(null==p?void 0:p.extra_services)||(null==p?void 0:p.product_type)!=="single";(0,v.useEffect)(()=>{L(),q(),M({category:"pdp_".concat(p.name),action:"view_item",label:"product_".concat(null==p?void 0:p.name),product:p})},[null==p?void 0:p.product_id]),(0,v.useEffect)(()=>{B(!(null==p?void 0:p.variants_data))},[R]);let H="Y"!==(0,v.useMemo)(()=>{let e=null==p?void 0:p.stock;if(null==p?void 0:p.variants_data)for(let l of p.childs)"Y"===l.stock&&(e=l.stock);return e},[null==p?void 0:p.product_id]),X=null!=F?F:p,ee=(0,v.useMemo)(()=>(0,r.Z)({data:X,lang:O.language,callPriceRange:!0}),[null==p?void 0:p.product_id,Y,X]),el=(0,v.useMemo)(()=>Y?(0,r.Z)({data:X,lang:O.language}):ee,[null==p?void 0:p.product_id,X,Y,O.language]),ei=(0,v.useCallback)(()=>(0,n.jsxs)("div",{className:g()["sell-in-kg_wrapper"],children:[(0,n.jsx)("div",{className:g().separator}),(0,n.jsxs)("div",{className:g()["sell-in-kg-detail"],children:[(0,n.jsx)("i",{className:g()["icon-kg"]}),(0,n.jsxs)("div",{className:g()["weight-description"],children:[(0,n.jsx)("div",{className:g()["weight-title"],children:E("product:note-kiloTitle")}),(0,n.jsx)("div",{children:E("product:note-kiloDes")})]})]})]}),[]);return(0,n.jsx)("div",{className:g()["mb_pdp-wrapper"],children:(0,n.jsxs)(h,{data:{title:(0,t.L)(p,"name",O.language)},children:[Z&&(0,n.jsx)(I,{isOpen:Z,closeModal:()=>Q(!Z)}),(0,n.jsx)("div",{className:g().slide_wrapper,children:(0,n.jsx)(G,{productDetail:p,dataFocusVariant:X,images:(null==V?void 0:V.images)||(null==p?void 0:p.images),isOutOfStock:H})}),(0,n.jsx)(f,{productDetail:X||p}),(0,n.jsxs)("div",{id:"pdp_mobile-detail",className:g()["section-detail"],children:[(0,n.jsxs)("div",{className:g()["section-price"],children:[(0,n.jsxs)("div",{className:g().product_price,children:[(0,n.jsx)("span",{className:g().baht,children:"฿"}),(null==ee?void 0:ee.salePrice)||(null==el?void 0:el.salePrice),(0,n.jsxs)("span",{className:g().unit,children:["/ ",null==el?void 0:el.productUnit]})]}),(!!(null==el?void 0:el.discount)||(null==el?void 0:el.type)==="promotion")&&(0,n.jsxs)("div",{className:g().promotion_price,children:[!!(null==el?void 0:el.discount)&&(0,n.jsx)("div",{className:g().promotion_label,children:(null==ee?void 0:ee.discount)||(null==el?void 0:el.discount)}),(null==el?void 0:el.type)==="promotion"&&(0,n.jsxs)("div",{className:g().product_baseprice,children:[(0,n.jsx)("span",{className:g().baht,children:"฿"}),(null==ee?void 0:ee.basePrice)||(null==el?void 0:el.basePrice)]})]})]}),(0,n.jsx)("div",{className:g().product_title,children:(0,n.jsx)("h1",{children:(0,t.L)(X,"name",O.language)})}),(0,n.jsxs)("div",{className:g().product_short_unit,children:[!!(null==p?void 0:p.short_unit)&&(0,n.jsxs)("div",{className:g().product_sell_in_kg,children:[(0,t.L)(p,"short_unit",O.language),(0,n.jsx)("div",{className:g().vertical_separator})]}),"ID: ",null==p?void 0:p.product_id]}),(0,n.jsxs)("div",{className:g()["section-share"],children:[(0,n.jsx)(y,{product:p}),(0,n.jsx)("button",{className:g().icon,onClick:()=>Q(!Z),"aria-label":"pdp_mb_share",children:(0,n.jsx)("i",{className:g()["icon-share"]})})]}),!!(null==p?void 0:null===(i=p.labels)||void 0===i?void 0:i.length)&&(0,n.jsx)("div",{className:g().product_label_wrapper,children:null==p?void 0:null===(c=p.labels)||void 0===c?void 0:c.map((e,l)=>{var i,o,a,d,r,c,s,u,_;return(0,n.jsx)("div",{className:g().label_item,children:(0,n.jsxs)("div",{className:g().label,style:{color:"rgb(".concat(null==e?void 0:null===(i=e.background_color)||void 0===i?void 0:i.r,", ").concat(null==e?void 0:null===(o=e.background_color)||void 0===o?void 0:o.g,", ").concat(null==e?void 0:null===(a=e.background_color)||void 0===a?void 0:a.b,")"),backgroundColor:"rgb(".concat(null==e?void 0:null===(d=e.background_color)||void 0===d?void 0:d.r,", ").concat(null==e?void 0:null===(r=e.background_color)||void 0===r?void 0:r.g,", ").concat(null==e?void 0:null===(c=e.background_color)||void 0===c?void 0:c.b,", 0.1)")},children:[(0,t.L)(e,"name",O.language),!!(null==e?void 0:e.content_id)&&(0,n.jsx)("a",{href:"/p/".concat(null==e?void 0:e.content_slug),target:"_blank",rel:"noreferrer",children:(0,n.jsx)("i",{className:g().icon_info,style:{borderColor:"rgb(".concat(null==e?void 0:null===(s=e.background_color)||void 0===s?void 0:s.r,", ").concat(null==e?void 0:null===(u=e.background_color)||void 0===u?void 0:u.g,", ").concat(null==e?void 0:null===(_=e.background_color)||void 0===_?void 0:_.b,")")}})})]})},"labels_".concat(l))})}),!!(null==p?void 0:p.sell_in_kg)&&(0,n.jsx)(ei,{})]}),(null==p?void 0:null===(s=p.widgetCoupon)||void 0===s?void 0:s.length)>0&&(0,n.jsx)(N,{coupons:(null==p?void 0:p.widgetCoupon)||[],slug:null==p?void 0:p.slug}),W&&(0,n.jsx)(x,{product:p,setModalIsOpen:T,setIsSelectedAllVariant:B}),J&&(0,n.jsx)(w,{setModalIsOpen:T,product:p}),(0,n.jsx)(k,{product:p}),(0,n.jsx)(j,{shipping:null==p?void 0:p.shipping_labels}),(0,n.jsx)(A,{product:p,dataFocusVariant:X,i18n:O,t:E}),(0,n.jsx)(C,{product:p,dataFocusVariant:X,i18n:O,t:E}),z&&(0,n.jsx)(P,{price:el,productDetail:p,modalIsOpen:R,setModalIsOpen:T,images:(null==V?void 0:V.images)||(null==p?void 0:p.images),setImageGallery:q,variantData:F,setVariantData:L,dataFocusVariant:X,isSelectedAllVariant:Y,setIsSelectedAllVariant:B}),U&&(null==b?void 0:null===(_=b.query)||void 0===_?void 0:_.layout)!=="none"&&(0,n.jsx)(S,{children:(0,n.jsxs)("div",{className:g().pdp_sticky,children:[!!(null==p?void 0:p.sell_in_kg)&&(null==$?void 0:$.qty)&&(0,n.jsxs)("div",{className:g().price,children:[(0,n.jsx)("div",{children:E("product:total")}),(0,n.jsxs)("div",{className:g().product_price,children:[(0,n.jsx)("span",{className:g().baht,children:"฿"}),(0,r.x)((0,a.B)((null==$?void 0:$.qty)*(null==el?void 0:el.masterPrice)))]})]}),(0,n.jsx)("div",{className:g().btn,children:(0,n.jsx)(D,{type:z?"pdp":"pdp_modal",disabled:H,productDetail:p,onClickAddToCart:()=>{z&&T(!0)},onIncreaseQty:()=>{z&&T(!0)},trackingData:{category:"pdp_".concat(null==X?void 0:X.name),label:"product_".concat(null==X?void 0:X.name)}})})]})})]})})}O.propTypes={productDetail:p().object}},45633:function(e,l,i){"use strict";i.d(l,{r:function(){return s}});var n=i(40053),o=i(23892),t=i.n(o),a=i(86677),d=i(82022),r=i(84204),c=i(30514);function s(){let e=(0,a.useRouter)(),{user:l}=(0,r.a)(),{i18n:i}=(0,d.$G)(),{selectedWarehouse:o}=(0,c.f)();function s(a){let{event:d,category:r,action:c,section:s,feature:v,name:m,state:b,label:g,value:h,logId:y,promotionId:f,promotionName:k,items:x,product:w,order:j,userData:N,useLabelIsCurrentPage:P,eventWarehouse:G=null}=a;!function(e){var l,i;let{event:n,category:o,action:a,section:d,feature:r,name:c,state:s,label:v,value:m,logId:b,promotionId:g,promotionName:h,items:y,product:f,order:k,user:x,language:w,selectedWarehouse:j,abSegment:N}=e,P=(null==v?void 0:v.indexOf("_"))>-1?v.slice(0,v.indexOf("_")):void 0,{publicRuntimeConfig:G}=t()();(null==G?void 0:G.ENV)==="development"&&console.log({event:n||"track_event",event_category:o,event_action:a||c,event_section:d,event_feature:r,event_name:c,event_state:s,event_label:v,event_value:m,promotion_id:g,promotion_name:h,items:y,project:"unicorn",products:u(f,j),..._(k),...p(b,x,w,j),...P&&{content_type:P},...N&&{ab_segment:N}}),null===(l=window.dataLayer)||void 0===l||l.push(function(){this.reset()}),null===(i=window.dataLayer)||void 0===i||i.push({event:n||"track_event",event_category:o,event_action:a||c,event_section:d,event_feature:r,event_name:c,event_state:s,event_label:v,event_value:m,promotion_id:g,promotion_name:h,items:y,project:"unicorn",products:u(f,j,w),..._(k),...p(b,x,w,j),...P&&{content_type:P},...N&&{ab_segment:N}})}({event:d,category:r,action:c,section:s,feature:v,name:m,state:b,label:g||(P?({"/":"home_page","/search":"search_page","/product/[slug]":"product_page","/category/[slug]":"category_page","/group/[slug]":"group_page","/shop/[shop]":"shop_page","/customer/account":"customer_account_page"})[e.pathname]:void 0),value:h,logId:y,promotionId:f,promotionName:k,items:x,product:w,order:j,user:(null==N?void 0:N.customer)||(null==l?void 0:l.customer),language:i.language,selectedWarehouse:null!==G?G:o,abSegment:(0,n.Z)()})}return{trackPageview:function(){},trackEvent:s,trackEcommerce:function(e){s({event:"track_ecommerce",...e})}}}function u(e,l,i){if(e&&"object"==typeof e)return Array.isArray(e)||(e=[e]),e.map(e=>{var n,o,t,a,d,r,c,s,u,_,p,v,m,b,g,h,y,f,k,x,w,j;let N;let P=(null==e?void 0:e.atc_qty)||(null==e?void 0:e.qtyInCart);(null==e?void 0:e.product_data)&&(P=(e={...e.product_data,...e}).qty_order);let G=e.price_incl_tax,A=e.final_price_incl_tax,C=e.online_exclusive_price,I=e.flashdeal_price||C||A||0;return{id:e.product_id,sku:e.sku,name:e.name,brand:(null===(n=e.brand)||void 0===n?void 0:n.name)||(null==e?void 0:null===(o=e.attributes)||void 0===o?void 0:o.brand),category:null===(t=e.categories)||void 0===t?void 0:t.join(","),price:G,price_final:null!==(m=e.selling_price)&&void 0!==m?m:I,discount:I<G?G-I:0,variant1:null===(d=e.variants)||void 0===d?void 0:null===(a=d[0])||void 0===a?void 0:a.variant_id,variant2:null===(c=e.variants)||void 0===c?void 0:null===(r=c[1])||void 0===r?void 0:r.variant_id,avaliability:e.qty,quantity:1===e.sell_in_kg?1:P,width:e.width,height:e.height,long:e.long,weight:e.weight,image_url:e.thumbnail_image,division:null==e?void 0:null===(s=e.attributes)||void 0===s?void 0:s.division_name,department:null==e?void 0:null===(u=e.attributes)||void 0===u?void 0:u.department_name,sub_department:null==e?void 0:null===(_=e.attributes)||void 0===_?void 0:_.sub_department_name,class:null==e?void 0:null===(p=e.attributes)||void 0===p?void 0:p.class_name,sub_class:null==e?void 0:null===(v=e.attributes)||void 0===v?void 0:v.sub_class_name,is_hardline:e.is_hardline,seller_id:e.seller_id,store_id:e.storeId||(null==l?void 0:l.store_id),is_from_promotion:e.is_from_promotion,selling_price:e.selling_price,slug:e.slug,...(N={},Array.isArray(null==(b=e)?void 0:b.breadcrumb)&&(null==b?void 0:null===(g=b.breadcrumb)||void 0===g?void 0:g.length)>0?null==b||b.breadcrumb.map((e,l)=>{N["last_category_id_lv".concat(l+1)]=e.category_id,N["last_category_name_lv".concat(l+1)]=e.name}):Array.isArray(null==b?void 0:b.categories_detail)&&(null==b?void 0:null===(h=b.categories_detail)||void 0===h?void 0:h.length)>0&&(null==b||b.categories_detail.map((e,l)=>{N["last_category_id_lv".concat(l+1)]=e.category_id,N["last_category_name_lv".concat(l+1)]=e["name".concat("en"===i?"_en":"")]})),((null==b?void 0:null===(y=b.brand)||void 0===y?void 0:y.brand_id)||(null==b?void 0:b.brand_id))&&((null==b?void 0:null===(f=b.brand)||void 0===f?void 0:f.name)||(null==b?void 0:null===(k=b.attributes)||void 0===k?void 0:k.brand))&&(N.last_brand_id=(null==b?void 0:null===(x=b.brand)||void 0===x?void 0:x.brand_id)||(null==b?void 0:b.brand_id),N.last_brand_name=(null==b?void 0:null===(w=b.brand)||void 0===w?void 0:w.name)||(null==b?void 0:null===(j=b.attributes)||void 0===j?void 0:j.brand)),N)}})}function _(e){var l,i;let n,o;if(!e||"object"!=typeof e)return;let t=e.shipping,a=(null==t?void 0:t.shipping_date)?"".concat(null==t?void 0:t.shipping_date," เวลา ").concat(null==t?void 0:t.timeslot_start_time,"-").concat(null==t?void 0:t.timeslot_end_time," น."):null,d=e.pricing_summary;return{order_id:null==e?void 0:e.order_id,order_affiliation:null,order_revenue:null==e?void 0:e.order_net_val,order_tax:null,order_shipping_cost:null==e?void 0:e.delivery_fee,order_shipping_info:null==t?void 0:t.shipping_name_th,order_shipping_timeslot:a,order_payment_info:null==e?void 0:null===(l=e.payment)||void 0===l?void 0:l.payment_name_th,order_coupon_code:(i=null==e?void 0:e.promotion,n="",o=0,Array.isArray(i)&&i.length>0&&i.forEach(e=>{(null==e?void 0:e.related_coupon)&&(n=n.concat("".concat(o>0?",":""),e.related_coupon),o++)}),n||void 0),order_currency:"THB",order_checkout_step:null,order_summary:d}}function p(e,l,i,n){var o;let t=null==l?void 0:l.email,a=null==l?void 0:l.phone_no,d="string"!=typeof(o=null==l?void 0:l.bigcard)||isNaN(o)?"(not set)":o,r=null==l?void 0:l.first_name,c=null==l?void 0:l.last_name;return window._encrypt&&(t=window._encrypt(t),a=window._encrypt(a),r=window._encrypt(r),c=window._encrypt(c)),{cd_log_id:e,cd_language:i,cd_user_id:null==l?void 0:l.id,cd_3:d,cd_user_type:(null==l?void 0:l.id)?"phone":void 0,cd_1:t,cd_store_id:null==n?void 0:n.store_id,cd_store_type:"".concat(null==n?void 0:n.warehouse_type_en,"/").concat(null==n?void 0:n.warehouse_name_en),cd_user_gender:function(e){switch(null==e?void 0:e.toUpperCase()){case"F":return"female";case"M":return"male";case"O":return"other";default:return}}(null==l?void 0:l.gender),cd_4:r,cd_5:c,cd_user_birthdate:(null==l?void 0:l.birth_day)?"".concat(null==l?void 0:l.birth_year,"-").concat(null==l?void 0:l.birth_month,"-").concat(null==l?void 0:l.birth_day):void 0,cd_2:a,cd_latitude:null==n?void 0:n.latitude,cd_longitude:null==n?void 0:n.longitude}}},84204:function(e,l,i){"use strict";i.d(l,{a:function(){return t}});var n=i(75694),o=i(27378);function t(){return(0,o.useContext)(n.Vo)}},30514:function(e,l,i){"use strict";i.d(l,{f:function(){return t}});var n=i(14017),o=i(27378);function t(){return(0,o.useContext)(n.Q)}},17013:function(e){e.exports={"mb_pdp-wrapper":"product_mb_pdp-wrapper__ypBSa",slide_wrapper:"product_slide_wrapper__ltWT3",separator:"product_separator__4mZt2",product_short_unit:"product_product_short_unit__Jn9nD",product_sell_in_kg:"product_product_sell_in_kg__ba4g7",vertical_separator:"product_vertical_separator__tdKSJ","section-detail":"product_section-detail__5FL3G",product_title:"product_product_title__PZOy2","section-price":"product_section-price__n4hkE",product_price:"product_product_price__wZpsB",baht:"product_baht__NYyYP",unit:"product_unit__aOGmf",promotion_price:"product_promotion_price__zYjgQ",promotion_label:"product_promotion_label__d7fya",product_baseprice:"product_product_baseprice__cPIX6","section-share":"product_section-share__RRsnm",icon:"product_icon__mkyR1","icon-share":"product_icon-share__4A_Mx","icon-heart":"product_icon-heart__A9qF_",product_label_wrapper:"product_product_label_wrapper__CILxN",label_item:"product_label_item__wb8xQ",label:"product_label__wjNMT",icon_info:"product_icon_info__v_c59","sell-in-kg_wrapper":"product_sell-in-kg_wrapper__EUKNW","sell-in-kg-detail":"product_sell-in-kg-detail__DvEUf","weight-description":"product_weight-description__PdA2F","weight-title":"product_weight-title__Ior6W","icon-kg":"product_icon-kg__PnAhd",pdp_sticky:"product_pdp_sticky__fvaQ1",price:"product_price__uENt0",btn:"product_btn__Rh2T1"}}}]);